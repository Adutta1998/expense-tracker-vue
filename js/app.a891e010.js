(function(t){function e(e){for(var a,i,s=e[0],c=e[1],l=e[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},o=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("8a23"),r=n.n(a);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-card",{attrs:{color:"indigo",flat:""}},[n("v-toolbar",{attrs:{color:"primary",dark:""}},[t.notIsHome?n("router-link",{staticClass:"mr-2",attrs:{to:"/"}},[n("v-icon",[t._v("mdi-arrow-left-circle")])],1):t._e(),n("v-toolbar-title",[t._v("Expense Tracker")]),n("v-spacer"),null!=t.loggedIn?n("v-btn",{attrs:{outlined:""},on:{click:t.logout}},[t._v("Logout"),n("v-icon",{attrs:{right:""}},[t._v("mdi-logout-variant")])],1):t._e()],1)],1),n("v-main",[n("router-view",{on:{changeView:t.viewChanged}})],1)],1)},o=[],i=(n("ac1f"),n("5319"),{name:"App",data:function(){return{notIsHome:!1}},methods:{viewChanged:function(t){this.notIsHome=t},logout:function(){document.cookie="cred=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",console.log(document.cookie),this.$store.state.credentials=null}},created:function(){this.$store.commit("checkLogin")},mounted:function(){null==this.loggedIn&&this.$router.push("/login")},watch:{loggedIn:function(t){null!=t?(this.$router.replace("/"),this.$store.dispatch("fetch_income"),this.$store.dispatch("fetch_expense")):this.$router.push("/login")}},computed:{loggedIn:function(){return this.$store.state.credentials}}}),s=i,c=(n("034f"),n("2877")),l=n("6544"),u=n.n(l),d=n("7496"),p=n("8336"),h=n("b0af"),f=n("132d"),m=n("f6c4"),v=n("2fa4"),g=n("71d9"),b=n("2a7f"),_=Object(c["a"])(s,r,o,!1,null,null,null),x=_.exports;u()(_,{VApp:d["a"],VBtn:p["a"],VCard:h["a"],VIcon:f["a"],VMain:m["a"],VSpacer:v["a"],VToolbar:g["a"],VToolbarTitle:b["a"]});var k=n("8c4f"),y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("div",{staticClass:"d-flex align-center"},[n("h1",[t._v("Insert")]),n("v-spacer"),n("router-link",{staticClass:"nostyle mr-2",attrs:{to:"chart"}},[n("v-btn",{attrs:{small:"",dark:"",rounded:"",color:"blue",title:"Charts"}},[n("v-icon",{attrs:{left:"",color:"white"}},[t._v("mdi-chart-arc")]),t._v(" Charts ")],1)],1),n("router-link",{staticClass:"nostyle",attrs:{to:"table"}},[n("v-btn",{attrs:{small:"",dark:"",rounded:"",color:"blue",title:"Charts"}},[n("v-icon",{attrs:{left:"",color:"white"}},[t._v("mdi-table-large")]),t._v(" Table ")],1)],1)],1),n("v-card",{staticClass:"my-4 pa-4"},[n("DatePicker",{on:{dateChanged:t.setDate}}),n("v-text-field",{staticClass:"mb-2",attrs:{"hide-details":"auto",label:"Amount",outlined:"","prepend-inner-icon":"mdi-currency-inr"},model:{value:t.payload.amount,callback:function(e){t.$set(t.payload,"amount",e)},expression:"payload.amount"}}),n("v-text-field",{staticClass:"mb-2",attrs:{"hide-details":"auto",label:"Source",outlined:"","prepend-inner-icon":"mdi-source-commit-start"},model:{value:t.payload.source,callback:function(e){t.$set(t.payload,"source",e)},expression:"payload.source"}}),n("div",{staticClass:"d-flex align-center"},[n("h3",[t._v("Income?")]),n("v-spacer"),n("v-switch",{model:{value:t.isIncome,callback:function(e){t.isIncome=e},expression:"isIncome"}})],1),n("v-btn",{staticClass:"px-4",attrs:{loading:t.isloading,outlined:"",color:"success",shaped:""},on:{click:t.saveData}},[t._v("Save")])],1),n("v-card",{attrs:{loading:t.isloading}},[n("v-card-title",[t._v("Transactions")]),n("v-card-subtitle",[t._v("*This Month ("+t._s((new Date).toLocaleString("default",{month:"long"}))+")")]),n("v-card-text",[n("v-list-item",[n("span",{staticClass:"text-body-1 font-weight-bold"},[t._v("Income")]),n("v-spacer"),n("v-chip",{staticClass:"pa-4",attrs:{dark:"",color:"green"}},[n("span",{staticClass:"text-subtitle-2 font-weight-bold"},[t._v(t._s(t.totalTransaction.tIncome))]),n("v-icon",{attrs:{right:""}},[t._v("mdi-currency-inr")])],1)],1),n("v-list-item",[n("span",{staticClass:"text-body-1 font-weight-bold"},[t._v("Expense")]),n("v-spacer"),n("v-chip",{staticClass:"pa-4",attrs:{dark:"",color:"red"}},[n("span",{staticClass:"text-subtitle-2 font-weight-bold"},[t._v(t._s(t.totalTransaction.tExpense))]),n("v-icon",{attrs:{right:""}},[t._v("mdi-currency-inr")])],1)],1)],1)],1)],1)},w=[],C=(n("4de4"),n("4160"),n("1276"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{ref:"dialog",attrs:{"return-value":t.picker,persistent:"",width:"290px"},on:{"update:returnValue":function(e){t.picker=e},"update:return-value":function(e){t.picker=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("v-text-field",t._g(t._b({staticClass:"mb-2",attrs:{label:"Select Date","prepend-inner-icon":"mdi-calendar",readonly:"",outlined:"","hide-details":"auto"},model:{value:t.picker,callback:function(e){t.picker=e},expression:"picker"}},"v-text-field",r,!1),a))]}}]),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[n("v-date-picker",{attrs:{scrollable:""},model:{value:t.picker,callback:function(e){t.picker=e},expression:"picker"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary",outlined:""},on:{click:function(e){t.modal=!1}}},[t._v("Cancel")]),n("v-btn",{attrs:{text:"",color:"primary",outlined:""},on:{click:function(e){return t.$refs.dialog.save(t.picker)}}},[t._v("OK")])],1)],1)}),V=[],O={data:function(){return{modal:!1,picker:""}},watch:{picker:function(t){this.$emit("dateChanged",t)}}},T=O,$=n("2e4b"),S=n("169a"),D=n("8654"),I=Object(c["a"])(T,C,V,!1,null,null,null),j=I.exports;u()(I,{VBtn:p["a"],VDatePicker:$["a"],VDialog:S["a"],VSpacer:v["a"],VTextField:D["a"]});var M={name:"Home",data:function(){return{isIncome:!1,payload:{date:"",amount:"",source:""}}},components:{DatePicker:j},mounted:function(){this.$emit("changeView",!1)},methods:{saveData:function(){this.payload.type=1==this.isIncome?"Income":"Expense",this.payload["id"]=(new Date).toISOString(),this.$store.dispatch("save",JSON.parse(JSON.stringify(this.payload)))},setDate:function(t){this.payload.date=t},filterDate:function(t){var e=t.date;return e=parseInt(e.split("-")[1]),e==(new Date).getMonth()+1}},computed:{isloading:function(){return this.$store.state.loading},totalTransaction:function(){var t=this.$store.state.income,e=this.$store.state.expense,n=0,a=0;return t&&e&&(t=t.filter(this.filterDate),e=e.filter(this.filterDate),t.forEach((function(t){n+=parseInt(t.amount)})),e.forEach((function(t){a+=parseInt(t.amount)}))),{tIncome:n,tExpense:a}}}},E=M,L=(n("988b"),n("99d9")),P=n("cc20"),J=n("a523"),N=n("da13"),A=n("b73d"),R=Object(c["a"])(E,y,w,!1,null,"1edd8196",null),B=R.exports;u()(R,{VBtn:p["a"],VCard:h["a"],VCardSubtitle:L["a"],VCardText:L["b"],VCardTitle:L["c"],VChip:P["a"],VContainer:J["a"],VIcon:f["a"],VListItem:N["a"],VSpacer:v["a"],VSwitch:A["a"],VTextField:D["a"]});var F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("MonthPicker",{on:{monthChanged:t.setMonth}}),n("TChart",{attrs:{data:t.Tran[0],type:"Income"}}),n("TChart",{attrs:{data:t.Tran[1],type:"Expense"}})],1)},H=[],K=(n("d81d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{ref:"dialog",attrs:{"return-value":t.picker,persistent:"",width:"290px"},on:{"update:returnValue":function(e){t.picker=e},"update:return-value":function(e){t.picker=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("v-text-field",t._g(t._b({staticClass:"mt-2",attrs:{label:"Select Month","prepend-inner-icon":"mdi-calendar",readonly:"",outlined:""},model:{value:t.picker,callback:function(e){t.picker=e},expression:"picker"}},"v-text-field",r,!1),a))]}}]),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[n("v-date-picker",{attrs:{scrollable:"",type:"month"},model:{value:t.picker,callback:function(e){t.picker=e},expression:"picker"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.modal=!1}}},[t._v("Cancel")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.dialog.save(t.picker)}}},[t._v("OK")])],1)],1)}),U=[],z={data:function(){return{modal:!1,picker:(new Date).toISOString().substr(0,7),months:["January","February","March","April","May","June","July","September","October","November","December"]}},watch:{picker:function(t){this.$emit("monthChanged",t)}}},q=z,G=Object(c["a"])(q,K,U,!1,null,null,null),Q=G.exports;u()(G,{VBtn:p["a"],VDatePicker:$["a"],VDialog:S["a"],VSpacer:v["a"],VTextField:D["a"]});var W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.data.length<2?n("v-alert",{attrs:{type:"error"}},[t._v(" "+t._s(t.type)+" charts Can't load with only one or no data. Please insert at least two to view the chart. "),n("router-link",{staticClass:"nostyle",attrs:{to:"/"}},[n("v-btn",{attrs:{outlined:"",title:"Charts"}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-home")]),t._v(" Home ")],1)],1)],1):t._e(),n("v-card",{staticClass:"mb-8"},[n("v-card-title",{staticClass:"blue white--text"},[t._v(t._s(t.type))]),t.data.length>=2?n("TrendChart",{staticClass:"test",staticStyle:{height:"200px"},attrs:{datasets:[{data:t.data,smooth:!0,fill:!0,className:t.type,showPoints:!0}],grid:{horizontalLines:!0,verticalLines:!0},labels:{yLabels:0},min:0,interactive:!0},on:{"mouse-move":t.mouseMove}}):t._e(),t.selectedOption?n("v-card-text",[n("span",{staticClass:"mb-2"},[t._v("Date:"+t._s(t.selectedOption.data[0].date))]),n("br"),n("span",[t._v("Amount:"+t._s(t.selectedOption.data[0].value))])]):t._e()],1)],1)},X=[],Y={props:["data","type"],data:function(){return{selectedOption:null}},methods:{mouseMove:function(t){console.log(t),this.selectedOption=t}}},Z=Y,tt=n("0798"),et=Object(c["a"])(Z,W,X,!1,null,null,null),nt=et.exports;u()(et,{VAlert:tt["a"],VBtn:p["a"],VCard:h["a"],VCardText:L["b"],VCardTitle:L["c"],VIcon:f["a"]});var at={components:{MonthPicker:Q,TChart:nt},data:function(){return{month:""}},mounted:function(){this.$emit("changeView",!0)},methods:{comparator:function(t,e){return t.date>e.date?1:t.date<e.date?-1:0},setMonth:function(t){this.month=t},filterDate:function(t){var e=t.date;if(e=parseInt(e.split("-")[1]),""==this.month)return e==(new Date).getMonth()+1;var n=parseInt(this.month.split("-")[1]);return e==n}},computed:{Tran:function(){var t=this.$store.state.income,e=this.$store.state.expense;return t=t.filter(this.filterDate),e=e.filter(this.filterDate),e.sort(this.comparator),t.sort(this.comparator),t=t.map((function(t){return{date:t.date,value:t.amount}})),e=e.map((function(t){return{date:t.date,value:t.amount}})),[t,e]}}},rt=at,ot=Object(c["a"])(rt,F,H,!1,null,null,null),it=ot.exports;u()(ot,{VContainer:J["a"]});var st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("MonthPicker",{on:{monthChanged:t.setMonth}}),n("h3",[t._v("Data-Tables")]),n("v-card",{staticClass:"mb-4"},[n("v-card-title",{staticClass:"green lighten-1 white--text"},[t._v("Income")]),t.Tran?n("div",[n("v-data-table",{attrs:{headers:t.headers,items:t.Tran[0],"items-per-page":5}})],1):t._e()],1),n("v-card",[n("v-card-title",{staticClass:"red lighten-1 white--text"},[t._v("Expense")]),n("v-data-table",{attrs:{headers:t.headers,items:t.Tran[1],"items-per-page":3}})],1)],1)},ct=[],lt={name:"Tables",components:{MonthPicker:Q},mounted:function(){this.$emit("changeView",!0)},data:function(){return{month:"",headers:[{text:"Date",value:"date"},{text:"Amount",value:"amount"},{text:"Source",value:"src"}]}},methods:{filterDate:function(t){var e=t.date;if(e=parseInt(e.split("-")[1]),""==this.month)return e==(new Date).getMonth()+1;var n=parseInt(this.month.split("-")[1]);return e==n},setMonth:function(t){this.month=t}},computed:{Tran:function(){var t=this.$store.state.income,e=this.$store.state.expense;return t=t.filter(this.filterDate),e=e.filter(this.filterDate),[t,e]}}},ut=lt,dt=n("8fea"),pt=Object(c["a"])(ut,st,ct,!1,null,null,null),ht=pt.exports;u()(pt,{VCard:h["a"],VCardTitle:L["c"],VContainer:J["a"],VDataTable:dt["a"]});var ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-container",[n("h1",[t._v(t._s(t.isLogin?"Login":"Sign Up"))]),n("v-text-field",{staticClass:"mb-2",attrs:{label:"Name",outlined:"","hide-details":"auto"},model:{value:t.credentials.name,callback:function(e){t.$set(t.credentials,"name",e)},expression:"credentials.name"}}),t.isLogin?t._e():n("v-text-field",{staticClass:"mb-2",attrs:{label:"Email:",type:"email",outlined:"","hide-details":"auto"},model:{value:t.credentials.email,callback:function(e){t.$set(t.credentials,"email",e)},expression:"credentials.email"}}),n("v-text-field",{staticClass:"mb-2",attrs:{label:"Password:",type:"password",outlined:"","hide-details":"auto"},model:{value:t.credentials.password,callback:function(e){t.$set(t.credentials,"password",e)},expression:"credentials.password"}}),n("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:t.auth}},[t._v("Submit")]),n("v-btn",{staticClass:"mt-16",attrs:{outlined:"",color:"primary",block:""},on:{click:function(e){t.isLogin=!t.isLogin}}},[t.isLogin?n("span",[t._v(" Not a user? Sign-up ")]):t._e(),t.isLogin?t._e():n("span",[t._v(" Already a user? Sign-in ")])])],1)],1)},mt=[],vt=(n("b0c0"),n("6821")),gt=n.n(vt),bt={data:function(){return{isLogin:!0,credentials:{name:"",password:"",email:""}}},methods:{auth:function(){if(this.isLogin){this.credentials.password=gt()(this.credentials.password);var t=JSON.parse(JSON.stringify(this.credentials));this.$store.dispatch("login",t)}else this.credentials.password=gt()(this.credentials.password),this.credentials["auth_id"]=gt()(this.credentials.name+Date.now),t=JSON.parse(JSON.stringify(this.credentials)),this.$store.dispatch("signup",t)}}},_t=bt,xt=Object(c["a"])(_t,ft,mt,!1,null,null,null),kt=xt.exports;u()(xt,{VBtn:p["a"],VContainer:J["a"],VTextField:D["a"]}),a["a"].use(k["a"]);var yt=[{path:"/",name:"Home",component:B},{path:"/chart",name:"Charts",component:it},{path:"/table",name:"Tables",component:ht},{path:"/login",name:"Login",component:kt}],wt=new k["a"]({mode:"history",base:"/",routes:yt}),Ct=wt,Vt=(n("99af"),n("d3b7"),n("96cf"),n("1da1")),Ot=n("2f62");a["a"].use(Ot["a"]);var Tt=function(t){var e=new FormData;for(var n in t)e.append(n,t[n]);return e},$t=new Ot["a"].Store({state:{income:null,expense:null,loading:!1,credentials:null},mutations:{fetch_income:function(t,e){t.income=e},fetch_expense:function(t,e){t.expense=e},login:function(t,e){t.credentials=e;var n="cred=".concat(JSON.stringify(e),";max-age=").concat(5184e3,";path=/");document.cookie=n},checkLogin:function(t){var e=document.cookie;e&&(e=e.split("="),e=e[1],e=JSON.parse(e),t.credentials=e)}},actions:{fetch_income:function(t){return Object(Vt["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,a=t.state,a.loading=!0,e.next=4,fetch("http://localhost/expensetrackerbackend/fetch.php?type=income&user=".concat(a.credentials.auth_id)).then((function(t){return t.json()})).then((function(t){n("fetch_income",t),a.loading=!1}));case 4:case"end":return e.stop()}}),e)})))()},fetch_expense:function(t){return Object(Vt["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,a=t.state,a.loading=!0,e.next=4,fetch("http://localhost/expensetrackerbackend/fetch.php?type=expense&user=".concat(a.credentials.auth_id)).then((function(t){return t.json()})).then((function(t){a.loading=!1,n("fetch_expense",t)}));case 4:case"end":return e.stop()}}),e)})))()},save:function(t,e){t.commit;var n=t.dispatch,a=t.state;a.loading=!0,fetch("http://localhost/expensetrackerbackend/insert.php?user=".concat(a.credentials.auth_id),{method:"post",body:Tt(e)}).then((function(t){return t.json()})).then((function(t){console.log(t),n("fetch_income"),n("fetch_expense")}))},login:function(t,e){return Object(Vt["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.commit,console.log(e),r="http://localhost/expensetrackerbackend/auth_login.php?name=".concat(e.name,"&pwd=").concat(e.password),n.next=5,fetch(r).then((function(t){return t.json()})).then((function(t){a("login",t)}));case 5:case"end":return n.stop()}}),n)})))()},signup:function(t,e){return Object(Vt["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.commit,console.log(e),fetch("http://localhost/expensetrackerbackend/auth_signup.php",{method:"post",body:Tt(e)}).then((function(t){return t.json()})).then((function(t){console.log(t)}));case 3:case"end":return n.stop()}}),n)})))()}},modules:{}}),St=n("f309");a["a"].use(St["a"]);var Dt=new St["a"]({theme:{themes:{light:{primary:"#2196f3",secondary:"#ff5722",accent:"#009688",error:"#f44336",warning:"#ff9800",info:"#03a9f4",success:"#8bc34a"}}}}),It=n("4ddc");a["a"].use(It["a"]),a["a"].config.productionTip=!1,new a["a"]({router:Ct,store:$t,vuetify:Dt,render:function(t){return t(x)}}).$mount("#app")},"8a23":function(t,e,n){},"988b":function(t,e,n){"use strict";var a=n("c083"),r=n.n(a);r.a},c083:function(t,e,n){}});
//# sourceMappingURL=app.a891e010.js.map